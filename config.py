import os
from dotenv import load_dotenv

# Загружаем переменные окружения
load_dotenv()

# Конфигурация бота
TELEGRAM_BOT_TOKEN = os.getenv('TELEGRAM_BOT_TOKEN')
OPENAI_API_KEY = os.getenv('OPENAI_API_KEY')
DATABASE_PATH = os.getenv('DATABASE_PATH', 'metrics.db')

# Ограничения
MIN_MESSAGE_LENGTH = 10
MAX_MESSAGE_LENGTH = 4000

# Сообщения бота
MESSAGES = {
    'welcome': """Привет! Я бот **Assertive.Me** и я помогу тебе переформулировать токсичные сообщения в ассертивные. Просто перешли мне любое сообщение или напиши свой текст.""",
    
    'processing': "Обрабатываю ваш запрос, пожалуйста, подождите...",
    
    'too_long': "Извини, сообщение слишком длинное. Пожалуйста, отправь текст длиной не более 4000 символов.",
    
    'too_short_or_non_toxic': "Этот комментарий кажется нетоксичным или слишком коротким для переформулировки. Пожалуйста, попробуй отправить другое сообщение, если нужна помощь.",
    
    'error': "Извини, что-то пошло не так. Пожалуйста, попробуй еще раз через некоторое время.",
    
    'feedback_thanks': "Спасибо за ваш выбор!",
    
    'feedback_request': "Жаль, что ничего не подошло. Не могли бы вы кратко объяснить почему? (Например: 'непонятно', 'слишком формально', 'не по смыслу')"
}

# Промпт для OpenAI
OPENAI_PROMPT_TEMPLATE = """Переформулируй следующий комментарий в 3 ассертивных вариантах. Фокусируйся на 'Я-сообщениях' и конструктивном тоне, избегая обвинений. Если это чей-то комментарий, предложи варианты ассертивного ответа на него. Если это черновик пользователя, предложи ассертивные способы выразить ту же мысль. 

Оригинальный комментарий: '{text}'

Ответь в формате:
1. [первый вариант]
2. [второй вариант]  
3. [третий вариант]"""
